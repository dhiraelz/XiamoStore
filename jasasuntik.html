<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XiamoStore - Buat Pesanan Jasa Suntik</title>
    <!-- Google Fonts - Poppins untuk teks, Montserrat untuk judul -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Remixicon for icons (ditambahkan karena ada di halaman lain, untuk konsistensi jika diperlukan) -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />

    <style>
        /* CSS Variables for Dark Mode (Default) */
        :root {
            --bg-deep: #1A2534; /* Sangat gelap, hampir hitam kebiruan */
            --bg-card-base: #233041; /* Biru keabu-abuan gelap yang kaya */
            --card-start-gradient: rgba(59, 77, 99, 0.65); /* #3B4D63 with opacity 65% */
            --card-end-gradient: rgba(46, 62, 80, 0.65); /* #2E3E50 dengan opacity 65% */
            --menu-item-start-gradient: #6080A5; /* Biru keabu-abuan cerah yang hidup */
            --menu-item-end-gradient: #8DAACB; /* Biru keabu-abuan yang lebih terang */
            --menu-item-hover-start: #7FAACB; /* Hover start slightly lighter */
            --menu-item-hover-end: #A0C2E2; /* Hover end slightly lighter */
            --text-primary: #EBF2F7; /* Abu-abu kebiruan terang */
            --text-secondary: #FFFFFF; /* Putih bersih */
            --accent-color: #78B2D4; /* Biru keabu-abuan cerah untuk efek glow */
            --success-color: #4CAF50; /* Hijau untuk checkmark */
            --red-alert-color: #FF5C5C; /* Merah untuk badge/alert */
            --shadow-light: rgba(0, 0, 0, 0.45);
            --shadow-deep: rgba(0, 0, 0, 0.7);
            --backdrop-filter-value-card: blur(8px);
            --backdrop-filter-value-panel: blur(5px);
            --background-filter-value: blur(10px);
            --blob-opacity: 0.28;
            --input-bg-transparent: rgba(35, 48, 65, 0.7);
            --input-border-transparent: rgba(255, 255, 255, 0.2);
            --info-box-bg-transparent: rgba(35, 48, 65, 0.6);
            --info-box-border-transparent: rgba(120, 190, 220, 0.4);
            --footer-bg: var(--dark-blue);
            --footer-text-color: rgba(var(--text-primary), 0.7);
            --footer-border: rgba(255, 255, 255, 0.1);
        }

        /* CSS Variables for Light Mode */
        body.light-mode {
            --bg-deep: #F0F2F5; /* Light background */
            --bg-card-base: #FFFFFF; /* White card background */
            --card-start-gradient: rgba(255, 255, 255, 0.9);
            --card-end-gradient: rgba(245, 247, 250, 0.9);
            --menu-item-start-gradient: #4A69BD; /* Deeper blue for contrast */
            --menu-item-end-gradient: #6B8EED; /* Lighter blue */
            --menu-item-hover-start: #5C7CCD;
            --menu-item-hover-end: #7DAFFF;
            --text-primary: #333333; /* Dark text */
            --text-secondary: #1A1A1A; /* Even darker text for titles/headings */
            --accent-color: #3B82F6; /* Brighter blue accent */
            --success-color: #28A745; /* Slightly adjusted green */
            --red-alert-color: #E74C3C; /* Brighter red */
            --shadow-light: rgba(0, 0, 0, 0.1); /* Much lighter shadows */
            --shadow-deep: rgba(0, 0, 0, 0.2); /* Lighter shadows */
            --backdrop-filter-value-card: blur(4px);
            --backdrop-filter-value-panel: blur(2px);
            --background-filter-value: blur(6px);
            --blob-opacity: 0.15;
            --input-bg-transparent: rgba(255, 255, 255, 0.8);
            --input-border-transparent: rgba(0, 0, 0, 0.15);
            --info-box-bg-transparent: rgba(255, 255, 255, 0.7);
            --info-box-border-transparent: rgba(59, 130, 246, 0.4); /* Based on accent-color */
            --footer-bg: #E0E2E5; /* Lighter footer */
            --footer-text-color: rgba(51, 51, 51, 0.7);
            --footer-border: rgba(0, 0, 0, 0.1);
        }
        
        /* General page layout */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-deep);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            position: relative;
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition for base colors */
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* Background Image with Blur */
        .blurred-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('backgroundweb.jpeg');
            background-size: cover;
            background-position: center;
            filter: var(--background-filter-value);
            -webkit-filter: var(--background-filter-value);
            z-index: -2;
            transition: filter 0.3s ease;
        }

        /* Animated background blobs */
        .background-blob {
            position: fixed;
            background: var(--accent-color);
            border-radius: 50%;
            filter: blur(130px);
            opacity: var(--blob-opacity);
            z-index: -1;
            animation: pulse-blob 8s infinite alternate;
            transition: opacity 0.3s ease, background 0.3s ease;
        }
        .blob-1 { width: 380px; height: 380px; top: 18%; left: 12%; transform: translate(-50%, -50%); animation-delay: 0s; }
        .blob-2 { width: 300px; height: 300px; bottom: 22%; right: 15%; transform: translate(50%, 50%); animation-delay: 2.5s; }
        @keyframes pulse-blob {
            0% { transform: scale(1) translate(-50%, -50%); opacity: var(--blob-opacity); }
            50% { transform: scale(1.06) translate(-48%, -52%); opacity: calc(var(--blob-opacity) + 0.1); }
            100% { transform: scale(1) translate(-50%, -50%); opacity: var(--blob-opacity); }
        }

        /* Header */
        .header {
            background-color: var(--bg-deep);
            padding: 20px 0;
            border-bottom: 1px solid var(--footer-border);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between; /* Space between left group and theme toggle */
            align-items: center;
        }

        .left-header-group {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-button {
            background: none;
            color: var(--text-primary);
            border: none;
            border-radius: 50%;
            padding: 10px;
            font-size: 1.8em;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .back-button:hover {
            background-color: rgba(var(--text-primary), 0.1); /* Use primary text for hover bg */
            color: var(--accent-color);
        }

        .logo-text {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 1.5em;
            color: var(--text-secondary);
            white-space: nowrap;
            transition: color 0.3s ease;
        }

        /* Theme Toggle Button */
        .theme-toggle {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.8em;
            cursor: pointer;
            z-index: 10;
            transition: color 0.3s ease, transform 0.2s ease;
            outline: none;
        }
        .theme-toggle:hover {
            color: var(--accent-color);
            transform: scale(1.1);
        }
        .theme-toggle:active {
            transform: scale(0.95);
        }

        /* Main Content Area */
        .content-area {
            flex-grow: 1;
            padding: 30px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .content-header h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2em;
            font-weight: 700;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        /* Category Buttons at the top of the order form */
        .category-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 10px;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(145deg, var(--card-start-gradient), var(--card-end-gradient));
            border-radius: 10px;
            box-shadow: 0 5px 15px var(--shadow-deep);
            backdrop-filter: var(--backdrop-filter-value-panel);
            -webkit-backdrop-filter: var(--backdrop-filter-value-panel);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: background 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease, border 0.3s ease;
        }

        .category-buttons .cat-btn {
            background: linear-gradient(90deg, var(--menu-item-start-gradient), var(--menu-item-end-gradient));
            color: var(--text-secondary);
            border: none;
            border-radius: 8px;
            padding: 12px 15px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease, color 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 2px 5px var(--shadow-light);
        }

        .category-buttons .cat-btn:hover {
            background: linear-gradient(90deg, var(--menu-item-hover-start), var(--menu-item-hover-end));
            transform: translateY(-1px);
        }

        .category-buttons .cat-btn.active-category {
            background: linear-gradient(90deg, var(--menu-item-hover-end), var(--menu-item-hover-start));
            box-shadow: inset 0 2px 5px var(--shadow-deep);
            border: 1px solid var(--accent-color);
        }

        /* Order Creation Section */
        .order-section-wrapper {
            display: flex;
            gap: 30px;
            align-items: flex-start;
        }

        .order-form-container {
            flex: 2;
            background: linear-gradient(145deg, var(--card-start-gradient), var(--card-end-gradient));
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px var(--shadow-deep);
            backdrop-filter: var(--backdrop-filter-value-card);
            -webkit-backdrop-filter: var(--backdrop-filter-value-card);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: background 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease, border 0.3s ease;
        }

        .order-form-container h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5em;
            margin-bottom: 25px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .info-panel {
            flex: 1;
            background-color: var(--info-box-bg-transparent);
            border: 1px solid var(--info-box-border-transparent);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px var(--shadow-light);
            backdrop-filter: var(--backdrop-filter-value-panel);
            -webkit-backdrop-filter: var(--backdrop-filter-value-panel);
            transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease;
        }

        .info-panel h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.2em;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 15px;
            transition: color 0.3s ease;
        }

        .info-panel h4 {
            font-size: 1.05em;
            color: var(--text-primary);
            margin-bottom: 10px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .info-panel ul {
            list-style: none;
            padding: 0;
            margin-left: 15px;
        }
        .info-panel ul li::before {
            content: "‚Ä¢";
            color: var(--accent-color);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
            transition: color 0.3s ease;
        }
        .info-panel p {
            font-size: 0.9em;
            color: var(--text-primary); /* Keep text primary, but opacity might be set by the root var in light mode */
            opacity: 0.7; /* Adjusted to be controlled by default opacity for lighter text */
            margin-top: 15px;
            transition: color 0.3s ease, opacity 0.3s ease;
        }

        .info-panel strong {
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }
        .info-panel i.fas.fa-sync-alt {
            color: var(--success-color);
            transition: color 0.3s ease;
        }


        /* Form elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
            font-size: 0.95em;
            transition: color 0.3s ease;
        }

        .form-group select,
        .form-group input[type="text"],
        .form-group input[type="number"] {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--input-border-transparent);
            border-radius: 8px;
            font-size: 1em;
            color: var(--text-primary);
            background-color: var(--input-bg-transparent);
            transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.3s ease, color 0.3s ease;
        }

        .form-group select:focus,
        .form-group input[type="text"]:focus,
        .form-group input[type="number"]:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(var(--accent-color), 0.25);
        }

        .form-group select option {
            color: var(--text-primary);
            background-color: var(--bg-card-base); /* Use card base for options */
        }
        body.light-mode .form-group select option {
            background-color: var(--bg-deep); /* Ensure light mode options are visible */
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin-top: 10px;
            margin-bottom: 20px;
        }

        .checkbox-group input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            accent-color: var(--menu-item-start-gradient);
            transition: accent-color 0.3s ease;
        }

        .checkbox-group label {
            font-size: 0.9em;
            color: var(--text-primary); /* Keep text primary, opacity will be handled by light-mode vars */
            opacity: 0.7;
            margin-bottom: 0;
            cursor: pointer;
            transition: color 0.3s ease, opacity 0.3s ease;
        }

        .form-submit-btn {
            display: block;
            width: 100%;
            padding: 15px 25px;
            background: linear-gradient(90deg, var(--menu-item-start-gradient), var(--menu-item-end-gradient));
            color: var(--text-secondary);
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease, color 0.3s ease;
            box-shadow: 0 5px 15px var(--shadow-light);
        }

        .form-submit-btn:hover {
            background: linear-gradient(90deg, var(--menu-item-hover-start), var(--menu-item-hover-end));
            transform: translateY(-1px);
            box-shadow: 0 8px 20px var(--shadow-deep);
        }

        /* Styling for Price & Description Display */
        .service-details-display {
            background-color: var(--info-box-bg-transparent);
            color: var(--text-primary);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.95em;
            display: flex;
            flex-direction: column;
            gap: 5px;
            border: 1px solid var(--info-box-border-transparent);
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        }
        .service-details-display p {
            margin: 0;
            color: var(--text-primary);
            opacity: 0.7;
            transition: color 0.3s ease, opacity 0.3s ease;
        }
        .service-details-display strong {
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }
        .service-details-display .price-info {
            font-size: 1.1em;
            font-weight: 600;
            color: var(--accent-color);
            margin-top: 10px;
            transition: color 0.3s ease;
        }
        .service-details-display .min-max-info {
            font-size: 0.85em;
            color: var(--text-primary);
            opacity: 0.6;
            transition: color 0.3s ease, opacity 0.3s ease;
        }


        /* Footer */
        .footer {
            background-color: var(--footer-bg);
            padding: 30px 0;
            color: var(--footer-text-color);
            font-size: 0.9em;
            text-align: center;
            width: 100%;
            box-shadow: 0 -2px 10px var(--shadow-light);
            margin-top: 40px;
            position: relative;
            z-index: 1;
            transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
        }
        /* Adjusted footer content for responsiveness */
        .footer-content {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            padding: 0 20px;
        }
        .footer-col {
            flex-basis: 200px;
            margin-bottom: 20px;
            text-align: left;
        }
        .footer-col h4 {
            color: var(--text-secondary);
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            transition: color 0.3s ease;
        }
        .footer-col ul {
            list-style: none;
            padding: 0;
        }
        .footer-col ul li a {
            color: var(--footer-text-color);
            transition: color 0.2s ease;
        }
        .footer-col ul li a:hover {
            color: var(--accent-color);
        }
        .footer-bottom {
            margin-top: 20px;
            border-top: 1px solid var(--footer-border);
            padding-top: 20px;
            font-size: 0.8em;
            color: rgba(var(--text-primary), 0.5); /* Sangat muted, fixed to primary for consistency */
            transition: color 0.3s ease, border-color 0.3s ease;
        }
        body.light-mode .footer-bottom {
            color: rgba(51, 51, 51, 0.5); /* Specific muted color for light mode */
        }

        /* Responsive adjustments */
        @media (max-width: 992px) {
            .content-area {
                padding: 20px;
            }
            .content-header h1 {
                font-size: 1.8em;
            }
            .category-buttons {
                grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
                padding: 15px;
            }
            .category-buttons .cat-btn {
                padding: 10px 12px;
                font-size: 0.85em;
            }
            .order-section-wrapper {
                flex-direction: column;
            }
            .order-form-container, .info-panel {
                flex: none;
                width: 100%;
                margin-bottom: 20px;
                padding: 25px;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                /* For mobile, if the back button and logo are the main focus, keep justify-content: flex-start
                   If you want to center the logo and back button on the left, and theme toggle on the right,
                   the current setup (space-between) is good. */
                padding: 0 15px;
            }

            .logo-text {
                font-size: 1.4em;
            }
            .back-button, .theme-toggle {
                font-size: 1.6em;
                padding: 8px;
            }
            
            .content-area {
                padding: 15px;
            }
            .content-header {
                flex-direction: column;
                align-items: flex-start;
                margin-bottom: 20px;
            }
            .content-header h1 {
                margin-bottom: 15px;
                font-size: 1.6em;
            }
            .category-buttons {
                grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
                padding: 10px;
            }
            .category-buttons .cat-btn {
                padding: 8px 10px;
                font-size: 0.8em;
            }
            .order-form-container, .info-panel {
                padding: 20px;
            }
            .info-panel ul {
                margin-left: 0;
            }
            .info-panel ul li::before {
                margin-left: -0.5em;
            }
        }

        @media (max-width: 480px) {
            .content-area {
                padding: 10px;
            }
            .content-header h1 {
                font-size: 1.4em;
            }
            .category-buttons {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            .category-buttons .cat-btn {
                padding: 6px 8px;
                font-size: 0.75em;
            }
            .form-group select,
            .form-group input {
                padding: 10px 12px;
                font-size: 0.9em;
            }
            .form-group label {
                font-size: 0.85em;
            }
            .checkbox-group label {
                font-size: 0.8em;
            }
            .form-submit-btn {
                padding: 12px 15px;
                font-size: 1em;
            }
            .order-form-container, .info-panel {
                padding: 15px;
            }
            .order-form-container h3, .info-panel h3 {
                font-size: 1.3em;
            }
            .info-panel h4 {
                font-size: 1em;
            }
            .info-panel p, .info-panel ul li {
                font-size: 0.85em;
            }
            .service-details-display {
                padding: 12px;
                font-size: 0.9em;
            }
            .service-details-display .price-info {
                font-size: 1em;
            }
            .service-details-display .min-max-info {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>

    <!-- Background Image with Blur -->
    <div class="blurred-background"></div>

    <!-- Background Blobs (optional, jika ingin seperti halaman utama) -->
    <div class="background-blob blob-1"></div>
    <div class="background-blob blob-2"></div>

    <!-- Header (No sidebar) -->
    <header class="header">
        <div class="header-content">
            <div class="left-header-group">
                <button class="back-button" onclick="history.back()"><i class="fas fa-arrow-left"></i></button>
                <div class="logo-text">XiamoStore</div>
            </div>
            <!-- Theme Toggle Button -->
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                <i class="fas fa-sun"></i> <!-- Default to sun icon (for switching to light mode from dark) -->
            </button>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="content-area">
        <header class="content-header">
            <h1>Buat Pesanan</h1>
        </header>

        <!-- Category Buttons -->
        <div class="category-buttons">
            <button class="cat-btn active-category" data-category="Semua"><i class="fas fa-globe"></i> Semua Kategori</button>
            <button class="cat-btn" data-category="Instagram"><i class="fab fa-instagram"></i> Instagram</button>
            <button class="cat-btn" data-category="TikTok"><i class="fab fa-tiktok"></i> TikTok</button>
            <button class="cat-btn" data-category="YouTube"><i class="fab fa-youtube"></i> YouTube</button>
            <button class="cat-btn" data-category="Facebook"><i class="fab fa-facebook"></i> Facebook</button>
            <button class="cat-btn" data-category="Twitter"><i class="fab fa-twitter"></i> Twitter</button>
            <button class="cat-btn" data-category="Telegram"><i class="fab fa-telegram-plane"></i> Telegram</button>
            <button class="cat-btn" data-category="WhatsApp"><i class="fab fa-whatsapp"></i> WhatsApp</button>
            <button class="cat-btn" data-category="Marketplace"><i class="fas fa-store"></i> Marketplace</button>
            <button class="cat-btn" data-category="Discord"><i class="fab fa-discord"></i> Discord</button>
            <button class="cat-btn" data-category="Twitch"><i class="fab fa-twitch"></i> Twitch</button>
            <button class="cat-btn" data-category="Pinterest"><i class="fab fa-pinterest"></i> Pinterest</button>
            <button class="cat-btn" data-category="Snack Video"><i class="fas fa-video"></i> Snack Video</button>
            <button class="cat-btn" data-category="TripAdvisor"><i class="fab fa-tripadvisor"></i> TripAdvisor</button>
            <button class="cat-btn" data-category="Threads"><i class="fab fa-threads"></i> Threads</button>
        </div>

        <div class="order-section-wrapper">
            <!-- Order Creation Form -->
            <div class="order-form-container">
                <h3><i class="fas fa-shopping-cart"></i> Buat Pesanan</h3>
                
                <form id="orderForm">
                    <div class="form-group">
                        <label for="categorySelect">Kategori</label>
                        <select id="categorySelect">
                            <option value="">Pilih...</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="serviceSelect">Layanan</label>
                        <select id="serviceSelect">
                            <option value="">Pilih...</option>
                        </select>
                        <div class="checkbox-group">
                            <input type="checkbox" id="favoriteServiceCheckbox">
                            <label for="favoriteServiceCheckbox">Tampilkan layanan favorit saja</label>
                        </div>
                    </div>

                    <!-- Input Target -->
                    <div class="form-group">
                        <label for="orderTarget">Target</label>
                        <input type="text" id="orderTarget" placeholder="Masukkan username/link/ID...">
                    </div>

                    <!-- Display for Service Description and Price -->
                    <div class="service-details-display" id="serviceDetailsDisplay" style="display: none;">
                        <p id="serviceDescription"></p>
                        <p class="min-max-info">Min: <span id="minQuantity">0</span> - Max: <span id="maxQuantity">0</span></p>
                        <p class="price-info">Harga: <span id="servicePriceDisplay">Rp 0</span> / <span id="quantityUnit">Kuantitas</span></p>
                    </div>

                    <div class="form-group">
                        <label for="orderQuantity">Jumlah Pesanan</label>
                        <input type="number" id="orderQuantity" min="1" value="1">
                    </div>

                    <button type="submit" class="form-submit-btn">Pesan</button>
                </form>
            </div>

            <!-- Information Panel -->
            <div class="info-panel">
                <h3><i class="fas fa-info-circle"></i> Informasi</h3>
                <h4>Langkah-langkah membuat pesanan baru:</h4>
                <ul>
                    <li>Pilih salah satu Kategori.</li>
                    <li>Pilih salah satu Layanan yang ingin dipesan.</li>
                    <li>Masukkan Target pesanan sesuai ketentuan yang diberikan layanan tersebut.</li>
                    <li>Masukkan Jumlah Pesanan yang diinginkan.</li>
                    <li>Klik Pesan untuk membuat pesanan baru.</li>
                </ul>

                <h4>Ketentuan membuat pesanan baru:</h4>
                <ul>
                    <li>Silahkan membuat pesanan sesuai langkah-langkah diatas.</li>
                    <li>Jika ingin membuat pesanan dengan Target yang sama dengan pesanan yang sudah pernah dipesan sebelumnya, mohon menunggu sampai pesanan sebelumnya selesai diproses.</li>
                    <li>Tidak ada garansi berupa isi ulang/refund untuk layanan yang tidak berlabel Garansi <i class="fas fa-sync-alt"></i>/R, bahkan jika berkurang 5 menit sejak status completed.</li>
                    <li>Tidak ada garansi berupa isi ulang/refund untuk layanan yang berlabel Drop/No refill.</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- Footer (retained, but adjusted for no sidebar) -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-col">
                <h4>XiamoStore</h4>
                <p>XiamoStore menawarkan produk digital berkualitas di berbagai bidang hiburan, termasuk musik, film, dan konten digital lainnya. Kami menyediakan akses mudah dan cepat ke produk digital terpopuler dengan harga terjangkau. Dapatkan pengalaman hiburan terbaik dengan layanan yang aman dan terpercaya.</p>
                <div class="footer-social-icons">
                    <a href="#"><i class="fab fa-whatsapp"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                    <a href="#"><i class="fab fa-telegram-plane"></i></a>
                </div>
            </div>
            <div class="footer-col">
                <h4>Kategori Produk</h4>
                <ul>
                    <li><a href="#">AI</a></li>
                    <li><a href="#">Desain</a></li>
                    <li><a href="#">Musik & Video</a></li>
                    <li><a href="#">Edukasi</a></li>
                    <li><a href="#">Productivity</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Lainnya</h4>
                <ul>
                    <li><a href="https://wa.me/6287844643452" target="_blank"><i class="fab fa-whatsapp"></i> Tanya Admin</a></li>
                    <li><a href="#">Cara Pembelian</a></li>
                    <li><a href="#">Tips Hemat</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            ¬© 2025 XiamoStore. Sudah terdaftar sebagai penyedia media elektronik di Komdigi.
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // === Theme Toggle Logic ===
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;

            // Function to set the theme
            function setTheme(theme) {
                if (theme === 'light') {
                    body.classList.add('light-mode');
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>'; // Moon icon for light mode (to switch to dark)
                    localStorage.setItem('theme', 'light');
                } else {
                    body.classList.remove('light-mode');
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>'; // Sun icon for dark mode (to switch to light)
                    localStorage.setItem('theme', 'dark');
                }
            }

            // Check for saved theme preference or system preference on load
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                setTheme(savedTheme);
            } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
                // If no saved theme, check system preference. If system prefers light, set to light.
                setTheme('light');
            } else {
                // Default to dark mode if no preference found or system prefers dark
                setTheme('dark');
            }

            // Toggle theme on button click
            themeToggle.addEventListener('click', () => {
                if (body.classList.contains('light-mode')) {
                    setTheme('dark');
                } else {
                    setTheme('light');
                }
            });

            // === Data Layanan ===
            // Harga di bawah ini adalah harga PER UNIT/KUANTITAS (Harga/1 pcs)
            const allServicesData = {
                "Instagram": [
                    {
                        name: "Followers Instagram (Garansi)",
                        price: 48, // Harga per followers: Rp 48
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link/username<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-rata: 8 menit 59 detik",
                        min: 10,
                        max: 10000,
                        unit: "Followers",
                        isFavorite: false
                    },
                    {
                        name: "Followers Instagram (Indonesia)",
                        price: 65, // Harga per followers: Rp 65
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link/username<br><br>Refill : 3 Hari<br>Speed : Ultra Instant<br>Kualitas : Indonesia<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-rata: 2 jam 40 menit 55 detik",
                        min: 100,
                        max: 10000,
                        unit: "Followers",
                        isFavorite: false
                    },
                    {
                        name: "Likes Instagram (Bot)",
                        price: 48, // Harga per likes: Rp 48
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link POST<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-rata: 29 menit 34 detik",
                        min: 10,
                        max: 5000,
                        unit: "Likes",
                        isFavorite: false
                    },
                    {
                        name: "Likes Instagram (Indonesia)",
                        price: 17.5, // Harga per likes: Rp 17.5
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link Post<br><br>Kualitas: Indonesia ( Bisa berupa foto/nama/keduanya)<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-rata: 2 jam 34 menit 22 detik",
                        min: 100,
                        max: 5000,
                        unit: "Likes",
                        isFavorite: false
                    },
                    {
                        name: "Instagram Saves",
                        price: 9.5, // Harga per saves: Rp 9.5
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link POST<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-rata: 1 jam 53 detik",
                        min: 100,
                        max: 10000,
                        unit: "Saves",
                        isFavorite: false
                    },
                    {
                        name: "Instagram Views Reels",
                        price: 5, // Harga per views: Rp 5
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : LINK POST<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-rata: 22 menit 27 detik",
                        min: 100,
                        max: 50000,
                        unit: "Views",
                        isFavorite: false
                    },
                    { name: "Komentar Instagram", price: 200, desc: "Tambahkan komentar positif pada postingan Instagram Anda.", min: 10, max: 500, unit: "Komentar", isFavorite: false } 
                ],
                "TikTok": [
                    {
                        name: "TikTok Video Views",
                        price: 1.5,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link VT<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 27 menit 50 detik",
                        min: 100,
                        max: 2147483647,
                        unit: "Views",
                        isFavorite: false
                    },
                    {
                        name: "TikTok Video Share",
                        price: 5,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link VT<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 11 menit 37 detik",
                        min: 10,
                        max: 2147483647,
                        unit: "Shares",
                        isFavorite: false
                    },
                    {
                        name: "TikTok Saves",
                        price: 5,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link VT<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br><br>Waktu Rata-Rata: 31 menit 38 detik",
                        min: 100,
                        max: 2147483647,
                        unit: "Saves",
                        isFavorite: false
                    },
                    {
                        name: "TikTok Likes",
                        price: 4.5,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link VT<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 16 menit 41 detik",
                        min: 10,
                        max: 5000000,
                        unit: "Likes",
                        isFavorite: false
                    }
                ],
                "YouTube": [
                    {
                        name: "YouTube Subscriber Garansi",
                        price: 98,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link Channel<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 1 hari 4 jam 48 menit",
                        min: 50,
                        max: 200000,
                        unit: "Subscribers",
                        isFavorite: false
                    },
                    {
                        name: "Youtube Likes",
                        price: 6,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link Video<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 10 menit 46 detik",
                        min: 10,
                        max: 1000000,
                        unit: "Likes",
                        isFavorite: false
                    }
                ],
                "Facebook": [
                    { name: "Likes Facebook", price: 120, desc: "Tingkatkan jumlah like pada postingan Facebook Anda.", min: 100, max: 10000, unit: "Likes", isFavorite: false }, 
                    { name: "Views Facebook", price: 150, desc: "Dapatkan lebih banyak penonton untuk video Facebook Anda.", min: 500, max: 50000, unit: "Views", isFavorite: false } 
                ],
                "Twitter": [
                    {
                        name: "Twitter Followers",
                        price: 156,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : username (contoh: xiamostore)<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 46 menit 41 detik",
                        min: 10,
                        max: 50000,
                        unit: "Followers",
                        isFavorite: false
                    },
                    {
                        name: "Twitter Video Views",
                        price: 6,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link Video<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 1 jam 9 menit 37 detik",
                        min: 250,
                        max: 100000000,
                        unit: "Views",
                        isFavorite: false
                    },
                    {
                        name: "Twitter Likes",
                        price: 50,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link Tweet<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 1 jam 28 menit 27 detik",
                        min: 20,
                        max: 10000,
                        unit: "Likes",
                        isFavorite: false
                    }
                ],
                "Telegram": [
                     { name: "Member Telegram", price: 300, desc: "Tambahkan anggota ke grup atau channel Telegram Anda.", min: 50, max: 10000, unit: "Member", isFavorite: false } 
                ],
                "WhatsApp": [
                    {
                        name: "Whatsapp Channel Members",
                        price: 80,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link Channel<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 11 jam 28 menit 3 detik",
                        min: 10,
                        max: 1000,
                        unit: "Members",
                        isFavorite: false
                    },
                    {
                        name: "Whatsapp Channel Emoji Reactions | Mix - üëç‚ù§Ô∏èüòÇüò≤üò•üôè",
                        price: 60,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link Channel<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 19 menit 16 detik",
                        min: 10,
                        max: 3000,
                        unit: "Reactions",
                        isFavorite: false
                    }
                ],
                "Marketplace": [
                    {
                        name: "Bukalapak Followers Indonesia",
                        price: 73,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Username<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: Belum ada data.",
                        min: 50,
                        max: 4000,
                        unit: "Followers",
                        isFavorite: false
                    },
                    {
                        name: "Bukalapak Produk Likes Indonesia",
                        price: 2.9,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link/Url<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: Belum ada data.",
                        min: 50,
                        max: 5000,
                        unit: "Likes",
                        isFavorite: false
                    },
                    {
                        name: "Bukalapak Product Views Indonesia",
                        price: 35,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link/Url<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: Belum ada data.",
                        min: 50,
                        max: 5000,
                        unit: "Views",
                        isFavorite: false
                    },
                    {
                        name: "Shopee Followers Indonesia",
                        price: 12,
                        desc: "Contoh Target : https://shopee.co.id/xiamostore<br>Garansi: tidak ada garansi isi ulang<br><br>Waktu Rata-Rata: 6 jam 46 menit 35 detik",
                        min: 100,
                        max: 30000,
                        unit: "Followers",
                        isFavorite: false
                    },
                    {
                        name: "Shopee Likes SHOPEE VIDEO Indonesia",
                        price: 10,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : LINK SHOPEE VIDEO <br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 1 jam 35 menit 33 detik",
                        min: 50,
                        max: 100000,
                        unit: "Likes",
                        isFavorite: false
                    },
                    {
                        name: "Shopee Livestream Views",
                        price: 50,
                        desc: "Target : Link Live<br>Refund: Tidak<br>Screenshoot : Wajib sertakan jika ada masalah dengan pesanan<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 15 menit 38 detik",
                        min: 10,
                        max: 100000,
                        unit: "Views",
                        isFavorite: false
                    }
                ],
                "Discord": [
                    { name: "Member Discord", price: 280, desc: "Tambahkan anggota ke server Discord Anda.", min: 20, max: 1000, unit: "Member", isFavorite: false } 
                ],
                "Twitch": [
                    { name: "Followers Twitch", price: 200, desc: "Dapatkan follower baru untuk channel Twitch Anda.", min: 50, max: 2000, unit: "Followers", isFavorite: false } 
                ],
                "Pinterest": [
                    { name: "Followers Pinterest", price: 180, desc: "Tingkatkan jumlah pengikut di akun Pinterest Anda.", min: 50, max: 2000, unit: "Followers", isFavorite: false } 
                ],
                "Snack Video": [
                    { name: "Followers Snack Video", price: 160, desc: "Menambah follower untuk akun Snack Video Anda.", min: 50, max: 5000, unit: "Followers", isFavorite: false }, 
                    { name: "Likes Snack Video", price: 80, desc: "Dapatkan lebih banyak like untuk video Snack Video Anda.", min: 100, max: 10000, unit: "Likes", isFavorite: false } 
                ],
                "TripAdvisor": [
                    { name: "Ulasan TripAdvisor", price: 400, desc: "Tingkatkan rating bisnis Anda di TripAdvisor dengan ulasan asli.", min: 1, max: 20, unit: "Ulasan", isFavorite: false } 
                ],
                "Threads": [
                    {
                        name: "Threads Followers",
                        price: 92,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link/username<br><br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 4 hari 22 jam 21 menit",
                        min: 100,
                        max: 100000,
                        unit: "Followers",
                        isFavorite: false
                    },
                    {
                        name: "Threads Likes",
                        price: 65,
                        desc: "‚ö†Ô∏è Mohon Baca Deskripsi ‚ö†Ô∏è<br><br>Target : Link Post<br><br>Catatan:<br>- Saat Server sibuk, kecepatan bisa berubah.<br>- Jangan melakukan pemesanan kedua pada link yang sama sebelum pesanan Anda selesai di sistem.<br>- Jika ada masalah dengan layanan, silakan hubungi dukungan.<br><br>Waktu Rata-Rata: 3 hari 17 jam 33 menit",
                        min: 50,
                        max: 300000,
                        unit: "Likes",
                        isFavorite: false
                    }
                ]
            };

            // === Elemen Form & Display ===
            const categoryButtons = document.querySelectorAll('.category-buttons .cat-btn');
            const categorySelect = document.getElementById('categorySelect');
            const serviceSelect = document.getElementById('serviceSelect');
            const orderTargetInput = document.getElementById('orderTarget'); 
            const orderQuantityInput = document.getElementById('orderQuantity');
            const favoriteServiceCheckbox = document.getElementById('favoriteServiceCheckbox');
            const orderForm = document.getElementById('orderForm');
            const serviceDetailsDisplay = document.getElementById('serviceDetailsDisplay');
            const serviceDescriptionDisplay = document.getElementById('serviceDescription');
            const minQuantityDisplay = document.getElementById('minQuantity');
            const maxQuantityDisplay = document.getElementById('maxQuantity');
            const servicePriceDisplay = document.getElementById('servicePriceDisplay');
            const quantityUnitDisplay = document.getElementById('quantityUnit');

            // Helper function to format currency
            function formatRupiah(number) {
                return new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0, // Tampilkan 0 desimal secara default
                    maximumFractionDigits: 2 // Tapi izinkan hingga 2 desimal jika ada
                }).format(number);
            }

            // Populate Category Select (Dropdown)
            function populateCategorySelect() {
                categorySelect.innerHTML = '<option value="">Pilih...</option>';
                // Urutkan kategori secara alfabetis untuk urutan yang konsisten
                const sortedCategories = Object.keys(allServicesData).sort();
                sortedCategories.forEach(category => {
                    const option = document.createElement('option');
                    option.value = category;
                    option.textContent = category;
                    categorySelect.appendChild(option);
                });
            }

            // Update Service Select (Dropdown) based on selected category and favorite filter
            function updateServiceSelect() {
                const selectedCategory = categorySelect.value;
                const showFavorites = favoriteServiceCheckbox.checked;
                serviceSelect.innerHTML = '<option value="">Pilih...</option>';
                serviceDetailsDisplay.style.display = 'none'; // Sembunyikan detail saat pilihan layanan berubah

                if (selectedCategory && allServicesData[selectedCategory]) {
                    let services = allServicesData[selectedCategory];
                    if (showFavorites) {
                        services = services.filter(service => service.isFavorite);
                    }
                    
                    services.forEach((service, index) => {
                        const option = document.createElement('option');
                        option.value = index; // Gunakan indeks untuk mengambil detail layanan dengan mudah
                        option.textContent = service.name;
                        serviceSelect.appendChild(option);
                    });
                }
            }

            // Display selected service details
            function displayServiceDetails() {
                const selectedCategory = categorySelect.value;
                const selectedServiceIndex = serviceSelect.value;

                if (selectedCategory && selectedServiceIndex !== "" && allServicesData[selectedCategory]) {
                    const service = allServicesData[selectedCategory][selectedServiceIndex];
                    serviceDescriptionDisplay.innerHTML = service.desc; // Gunakan innerHTML untuk merender baris baru
                    minQuantityDisplay.textContent = service.min;
                    maxQuantityDisplay.textContent = service.max;
                    servicePriceDisplay.textContent = formatRupiah(service.price); // Tampilkan harga per unit
                    quantityUnitDisplay.textContent = service.unit;

                    orderQuantityInput.min = service.min;
                    orderQuantityInput.max = service.max;
                    orderQuantityInput.value = service.min; // Set kuantitas default ke min
                    serviceDetailsDisplay.style.display = 'flex'; // Tampilkan detail
                } else {
                    serviceDetailsDisplay.style.display = 'none'; // Sembunyikan jika tidak ada layanan yang dipilih
                }
            }

            // Event Listeners for Form
            categorySelect.addEventListener('change', updateServiceSelect);
            serviceSelect.addEventListener('change', displayServiceDetails);
            favoriteServiceCheckbox.addEventListener('change', () => {
                updateServiceSelect(); // Isi ulang dropdown layanan dengan filter favorit diterapkan
                displayServiceDetails(); // Perbarui detail jika layanan yang dipilih terpengaruh oleh filter
            });

            // Event Listeners for Category Buttons (top section)
            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Hapus kelas aktif dari semua tombol
                    categoryButtons.forEach(btn => btn.classList.remove('active-category'));
                    // Tambahkan kelas aktif ke tombol yang diklik
                    button.classList.add('active-category');

                    const categoryName = button.dataset.category;
                    if (categoryName === "Semua") {
                        categorySelect.value = ""; // Hapus pilihan kategori di dropdown
                    } else {
                        categorySelect.value = categoryName; // Set dropdown ke kategori yang dipilih
                    }
                    updateServiceSelect(); // Perbarui dropdown layanan
                    displayServiceDetails(); // Perbarui detail layanan
                });
            });

            // Handle Form Submission (Direct to Payment - does NOT add to a multi-item cart)
            orderForm.addEventListener('submit', (event) => {
                event.preventDefault(); // Mencegah pengiriman formulir default

                const selectedCategory = categorySelect.value;
                const selectedServiceIndex = serviceSelect.value;
                const target = orderTargetInput.value.trim(); // Dapatkan nilai target
                const quantity = parseInt(orderQuantityInput.value);

                if (!selectedCategory || selectedServiceIndex === "") {
                    alert("Mohon pilih Kategori dan Layanan terlebih dahulu.");
                    return;
                }

                if (!target) {
                    alert("Mohon masukkan Target pesanan (username/link/ID).");
                    orderTargetInput.focus();
                    return;
                }

                if (isNaN(quantity) || quantity < 1) {
                    alert("Jumlah pesanan tidak valid.");
                    return;
                }

                const service = allServicesData[selectedCategory][selectedServiceIndex];

                // Validasi kuantitas terhadap min/max
                if (quantity < service.min || quantity > service.max) {
                    alert(`Jumlah pesanan harus antara ${service.min} dan ${service.max} untuk layanan ini.`);
                    orderQuantityInput.value = service.min; // Atur ulang ke min
                    return;
                }

                // Siapkan data pesanan untuk halaman pembayaran.
                // Ini akan MENIMPA data 'xiamoStoreCart' sebelumnya,
                // secara efektif bertindak sebagai "beli sekarang" langsung untuk satu item.
                const orderData = [{
                    name: `${service.name} (${target})`, // Sertakan target dalam nama produk
                    price: service.price * quantity, // Total harga untuk kuantitas
                    quantity: quantity
                }];

                // Simpan ke localStorage dan alihkan
                localStorage.setItem('xiamoStoreCart', JSON.stringify(orderData)); // Timpa keranjang sebelumnya dengan pesanan tunggal ini
                window.location.href = 'pembayaran.html';
            });

            // Initial population of category dropdown
            populateCategorySelect();
            // Picu klik pada tombol "Semua Kategori" di awal untuk mengatur dropdown dan status aktif
            document.querySelector('.cat-btn[data-category="Semua"]').click();
        });
    </script>
</body>
</html>