<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XiamoStore - Buat Pesanan Jasa Suntik</title>
    <!-- Google Fonts - Poppins untuk teks, Montserrat untuk judul -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Remixicon for icons (ditambahkan karena ada di halaman lain, untuk konsistensi jika diperlukan) -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />

    <style>
        :root {
            /* Warna latar belakang dan kartu (Biru Keabu-abuan Gelap) */
            --dark-deep: #1A2534; /* Sangat gelap, hampir hitam kebiruan */
            --dark-blue: #233041; /* Biru keabu-abuan gelap yang kaya */
            /* Menggunakan nilai RGBA untuk transparansi pada kartu utama */
            --card-start-gradient: rgba(59, 77, 99, 0.65); /* #3B4D63 dengan opacity 65% */
            --card-end-gradient: rgba(46, 62, 80, 0.65); /* #2E3E50 dengan opacity 65% */

            /* Warna item menu dan elemen interaktif lainnya (Biru Keabu-abuan Terang) */
            --menu-item-start-gradient: #6080A5; /* Biru keabu-abuan cerah yang hidup */
            --menu-item-end-gradient: #8DAACB; /* Biru keabu-abuan yang lebih terang */
            --menu-item-hover-start: #7FAACB; /* Hover start slightly lighter */
            --menu-item-hover-end: #A0C2E2; /* Hover end slightly lighter */

            /* Warna teks dan aksen */
            --text-primary: #EBF2F7; /* Abu-abu kebiruan terang */
            --text-secondary: #FFFFFF; /* Putih bersih */
            --accent-glow: #78B2D4; /* Biru keabu-abuan cerah untuk efek glow */
            --success-color: #4CAF50; /* Hijau untuk checkmark */
            --red-alert-color: #FF5C5C; /* Merah untuk badge/alert */

            /* Bayangan */
            --shadow-light: rgba(0, 0, 0, 0.45);
            --shadow-deep: rgba(0, 0, 0, 0.7);

            /* Warna spesifik elemen form dan info (transparan) */
            --input-bg-transparent: rgba(35, 48, 65, 0.7); /* Dari --dark-blue, sedikit transparan */
            --input-border-transparent: rgba(255, 255, 255, 0.2);
            --info-box-bg-transparent: rgba(35, 48, 65, 0.6); /* Dari --dark-blue, lebih transparan */
            --info-box-border-transparent: rgba(120, 190, 220, 0.4); /* Dari --accent-glow, sedikit transparan */
        }
        
        /* General page layout - Mobile First */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--dark-deep);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            position: relative;
        }

        a { text-decoration: none; color: inherit; }
        img { max-width: 100%; height: auto; display: block; }
        * { box-sizing: border-box; }

        /* Backgrounds */
        .blurred-background {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('https://images.unsplash.com/photo-1554034483-04fda0d3507b?q=80&w=2070&auto=format&fit=crop'); /* Placeholder image */
            background-size: cover; background-position: center;
            filter: blur(10px); -webkit-filter: blur(10px);
            z-index: -2;
        }
        .background-blob {
            position: fixed; background: var(--accent-glow); border-radius: 50%;
            filter: blur(130px); opacity: 0.28; z-index: -1; animation: pulse-blob 8s infinite alternate;
        }
        .blob-1 { width: 250px; height: 250px; top: 15%; left: 10%; }
        .blob-2 { width: 200px; height: 200px; bottom: 18%; right: 12%; background: rgba(120, 190, 220, 0.8); animation-delay: 2.5s; }
        @keyframes pulse-blob {
            from { transform: scale(1); opacity: 0.28; }
            to { transform: scale(1.1); opacity: 0.38; }
        }

        /* Header */
        .header {
            background-color: var(--dark-deep); padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky; top: 0; z-index: 1000;
        }
        .header-content {
            max-width: 1200px; margin: 0 auto; padding: 0 15px;
            display: flex; justify-content: flex-start; align-items: center; gap: 15px;
        }
        .back-button {
            background: none; color: var(--text-primary); border: none;
            border-radius: 50%; padding: 8px; font-size: 1.6em; cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .back-button:hover { background-color: rgba(255, 255, 255, 0.1); color: var(--accent-glow); }
        .logo-text {
            font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 1.4em; color: var(--text-secondary);
        }

        /* Main Content Area */
        .content-area {
            flex-grow: 1; padding: 20px 15px; max-width: 1200px;
            margin: 0 auto; width: 100%; position: relative; z-index: 1;
        }
        .content-header h1 {
            font-family: 'Montserrat', sans-serif; font-size: 1.8em; font-weight: 700;
            color: var(--text-secondary); margin-bottom: 20px; text-align: left;
        }

        /* Category Buttons - Responsive by default */
        .category-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px; margin-bottom: 25px;
        }
        .category-buttons .cat-btn {
            background: linear-gradient(90deg, var(--menu-item-start-gradient), var(--menu-item-end-gradient));
            color: var(--text-secondary); border: none; border-radius: 8px; padding: 10px 12px;
            font-size: 0.85em; font-weight: 600; cursor: pointer;
            transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; gap: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); text-align: center;
        }
        .category-buttons .cat-btn:hover {
            background: linear-gradient(90deg, var(--menu-item-hover-start), var(--menu-item-hover-end));
            transform: translateY(-2px);
        }
        .category-buttons .cat-btn.active-category {
            background: linear-gradient(90deg, var(--menu-item-hover-end), var(--menu-item-hover-start));
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3); border: 1px solid var(--accent-glow);
        }

        /* === ORDER SECTION - RESPONSIVE REWORK === */
        /* Default Mobile: Stacked Column Layout */
        .order-section-wrapper {
            display: flex;
            flex-direction: column; /* Stacked by default for mobile */
            gap: 25px;
            align-items: stretch; /* Make children take full width */
        }

        .order-form-container, .info-panel {
            flex-shrink: 0; /* Prevent shrinking */
            width: 100%; /* Full width on mobile */
            background: linear-gradient(145deg, var(--card-start-gradient), var(--card-end-gradient));
            border-radius: 10px;
            padding: 20px; /* Reduced padding for mobile */
            box-shadow: 0 5px 15px var(--shadow-deep);
            backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }
        
        /* Specific adjustments for info panel background */
        .info-panel {
             background-color: var(--info-box-bg-transparent);
             border: 1px solid var(--info-box-border-transparent);
        }
        
        .order-form-container h3, .info-panel h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.3em; /* Adjusted font size for mobile */
            margin-bottom: 20px; color: var(--text-secondary);
        }
        .info-panel h4 {
            font-size: 1.0em; color: var(--text-primary);
            margin-bottom: 10px; font-weight: 600;
        }

        .info-panel ul { list-style: none; padding-left: 5px; }
        .info-panel ul li { position: relative; margin-bottom: 8px; font-size: 0.9em; padding-left: 15px; }
        .info-panel ul li::before {
            content: "â€¢"; color: var(--accent-glow); font-weight: bold;
            position: absolute; left: 0; top: 0;
        }
        .info-panel p { font-size: 0.9em; margin-top: 15px; }
        .info-panel strong { color: var(--text-secondary); }
        .info-panel i.fas.fa-sync-alt { color: var(--success-color); }

        /* Form elements */
        .form-group { margin-bottom: 20px; }
        .form-group label {
            display: block; font-weight: 600; margin-bottom: 8px;
            color: var(--text-primary); font-size: 0.9em;
        }
        .form-group select, .form-group input {
            width: 100%; padding: 12px 15px; border: 1px solid var(--input-border-transparent);
            border-radius: 8px; font-size: 1em; color: var(--text-primary);
            background-color: var(--input-bg-transparent);
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        .form-group select:focus, .form-group input:focus {
            outline: none; border-color: var(--accent-glow);
            box-shadow: 0 0 0 3px rgba(120, 190, 220, 0.25);
        }
        .form-group select option { color: var(--text-primary); background-color: var(--dark-blue); }

        .checkbox-group { display: flex; align-items: center; margin-top: 10px; margin-bottom: 20px; }
        .checkbox-group input[type="checkbox"] { margin-right: 10px; width: 18px; height: 18px; accent-color: var(--menu-item-start-gradient); }
        .checkbox-group label { font-size: 0.9em; margin-bottom: 0; cursor: pointer; }

        .form-submit-btn {
            display: block; width: 100%; padding: 14px 20px;
            background: linear-gradient(90deg, var(--menu-item-start-gradient), var(--menu-item-end-gradient));
            color: var(--text-secondary); border: none; border-radius: 10px;
            font-size: 1.1em; font-weight: 600; cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        .form-submit-btn:hover {
            background: linear-gradient(90deg, var(--menu-item-hover-start), var(--menu-item-hover-end));
            transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        /* Service Details Display */
        .service-details-display {
            background-color: var(--info-box-bg-transparent); color: var(--text-primary);
            padding: 15px; border-radius: 8px; margin-top: 15px; font-size: 0.95em;
            display: flex; flex-direction: column; gap: 5px; border: 1px solid var(--info-box-border-transparent);
        }
        .service-details-display p { margin: 0; }
        .service-details-display strong { color: var(--text-secondary); }
        .service-details-display .price-info {
            font-size: 1.1em; font-weight: 600; color: var(--accent-glow); margin-top: 10px;
        }
        .service-details-display .min-max-info { font-size: 0.85em; }

        /* Footer */
        .footer {
            background-color: var(--dark-blue); padding: 30px 15px; color: rgba(var(--text-primary), 0.7);
            font-size: 0.9em; text-align: center; width: 100%; box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            margin-top: 40px; position: relative; z-index: 1;
        }
        .footer-content {
            display: flex; flex-direction: column; /* Stacked on mobile */
            text-align: center; gap: 20px; max-width: 1200px; margin: 0 auto;
        }
        .footer-col { text-align: left; } /* Align left for content inside */
        .footer-col h4 {
            color: var(--text-secondary); font-family: 'Montserrat', sans-serif; font-weight: 700;
        }
        .footer-col ul { list-style: none; padding: 0; }
        .footer-col ul li a:hover { color: var(--accent-glow); }
        .footer-bottom {
            margin-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 20px; font-size: 0.8em; color: rgba(var(--text-primary), 0.5);
        }

        /* === Media Queries for Larger Screens === */

        /* Tablet (e.g., iPads) */
        @media (min-width: 768px) {
            .header-content { padding: 0 30px; }
            .logo-text { font-size: 1.5em; }
            
            .content-area { padding: 30px; }
            .content-header h1 { font-size: 2em; margin-bottom: 30px; }
            
            .category-buttons { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }
            .category-buttons .cat-btn { font-size: 0.9em; padding: 12px 15px; }

            .order-form-container, .info-panel { padding: 25px; }
            .order-form-container h3, .info-panel h3 { font-size: 1.4em; }

            .footer-content {
                flex-direction: row; /* Side-by-side on tablet */
                justify-content: space-around;
                text-align: left;
            }
            .footer-col { flex: 1; min-width: 200px; }
        }

        /* Desktop */
        @media (min-width: 1024px) {
            .blob-1 { width: 380px; height: 380px; top: 18%; left: 12%; }
            .blob-2 { width: 300px; height: 300px; bottom: 22%; right: 15%; }
            
            /* === Key Change: Side-by-side layout for order section on desktop === */
            .order-section-wrapper {
                flex-direction: row; /* Change to row for desktop */
                align-items: flex-start; /* Align to top */
                gap: 30px;
            }
            .order-form-container {
                flex: 2; /* Takes 2/3 of the space */
            }
            .info-panel {
                flex: 1; /* Takes 1/3 of the space */
            }
        }

    </style>
</head>
<body>

    <!-- Background Image with Blur -->
    <div class="blurred-background"></div>

    <!-- Background Blobs -->
    <div class="background-blob blob-1"></div>
    <div class="background-blob blob-2"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <button class="back-button" onclick="history.back()"><i class="fas fa-arrow-left"></i></button>
            <div class="logo-text">XiamoStore</div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="content-area">
        <header class="content-header">
            <h1>Buat Pesanan</h1>
        </header>

        <!-- Category Buttons -->
        <div class="category-buttons">
            <button class="cat-btn active-category" data-category="Semua"><i class="fas fa-globe"></i> Semua</button>
            <button class="cat-btn" data-category="Instagram"><i class="fab fa-instagram"></i> Instagram</button>
            <button class="cat-btn" data-category="TikTok"><i class="fab fa-tiktok"></i> TikTok</button>
            <button class="cat-btn" data-category="YouTube"><i class="fab fa-youtube"></i> YouTube</button>
            <button class="cat-btn" data-category="Facebook"><i class="fab fa-facebook"></i> Facebook</button>
            <button class="cat-btn" data-category="Twitter"><i class="fab fa-twitter"></i> Twitter</button>
            <button class="cat-btn" data-category="Telegram"><i class="fab fa-telegram-plane"></i> Telegram</button>
            <button class="cat-btn" data-category="WhatsApp"><i class="fab fa-whatsapp"></i> WhatsApp</button>
            <button class="cat-btn" data-category="Marketplace"><i class="fas fa-store"></i> Marketplace</button>
            <button class="cat-btn" data-category="Discord"><i class="fab fa-discord"></i> Discord</button>
            <button class="cat-btn" data-category="Twitch"><i class="fab fa-twitch"></i> Twitch</button>
            <button class="cat-btn" data-category="Pinterest"><i class="fab fa-pinterest"></i> Pinterest</button>
            <button class="cat-btn" data-category="Snack Video"><i class="fas fa-video"></i> Snack Video</button>
            <button class="cat-btn" data-category="TripAdvisor"><i class="fab fa-tripadvisor"></i> TripAdvisor</button>
        </div>

        <div class="order-section-wrapper">
            <!-- Order Creation Form -->
            <div class="order-form-container">
                <h3><i class="fas fa-shopping-cart"></i> Buat Pesanan</h3>
                
                <form id="orderForm">
                    <div class="form-group">
                        <label for="categorySelect">Kategori</label>
                        <select id="categorySelect">
                            <option value="">Pilih...</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="serviceSelect">Layanan</label>
                        <select id="serviceSelect">
                            <option value="">Pilih...</option>
                        </select>
                        <div class="checkbox-group">
                            <input type="checkbox" id="favoriteServiceCheckbox">
                            <label for="favoriteServiceCheckbox">Tampilkan layanan favorit saja</label>
                        </div>
                    </div>

                    <!-- Input Target -->
                    <div class="form-group">
                        <label for="orderTarget">Target</label>
                        <input type="text" id="orderTarget" placeholder="Masukkan username/link/ID...">
                    </div>

                    <!-- Display for Service Description and Price -->
                    <div class="service-details-display" id="serviceDetailsDisplay" style="display: none;">
                        <p id="serviceDescription"></p>
                        <p class="min-max-info">Min: <span id="minQuantity">0</span> - Max: <span id="maxQuantity">0</span></p>
                        <p class="price-info">Harga: <span id="servicePriceDisplay">Rp 0</span> / <span id="quantityUnit">Kuantitas</span></p>
                    </div>

                    <div class="form-group">
                        <label for="orderQuantity">Jumlah Pesanan</label>
                        <input type="number" id="orderQuantity" min="1" value="1">
                    </div>

                    <button type="submit" class="form-submit-btn">Pesan</button>
                </form>
            </div>

            <!-- Information Panel -->
            <div class="info-panel">
                <h3><i class="fas fa-info-circle"></i> Informasi</h3>
                <h4>Langkah-langkah membuat pesanan baru:</h4>
                <ul>
                    <li>Pilih salah satu Kategori.</li>
                    <li>Pilih salah satu Layanan yang ingin dipesan.</li>
                    <li>Masukkan Target pesanan sesuai ketentuan yang diberikan layanan tersebut.</li>
                    <li>Masukkan Jumlah Pesanan yang diinginkan.</li>
                    <li>Klik Pesan untuk membuat pesanan baru.</li>
                </ul>

                <h4>Ketentuan membuat pesanan baru:</h4>
                <ul>
                    <li>Silahkan membuat pesanan sesuai langkah-langkah diatas.</li>
                    <li>Jika ingin membuat pesanan dengan Target yang sama, mohon menunggu pesanan sebelumnya selesai.</li>
                    <li>Tidak ada garansi untuk layanan yang tidak berlabel Garansi <i class="fas fa-sync-alt"></i>/R.</li>
                    <li>Tidak ada garansi untuk layanan yang berlabel Drop/No refill.</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-col">
                <h4>XiamoStore</h4>
                <p>XiamoStore menawarkan produk digital berkualitas di berbagai bidang hiburan. Dapatkan pengalaman hiburan terbaik dengan layanan yang aman dan terpercaya.</p>
                <div class="footer-social-icons">
                    <a href="#"><i class="fab fa-whatsapp"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-col">
                <h4>Kategori Produk</h4>
                <ul>
                    <li><a href="#">AI</a></li>
                    <li><a href="#">Desain</a></li>
                    <li><a href="#">Musik & Video</a></li>
                    <li><a href="#">Edukasi</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Lainnya</h4>
                <ul>
                    <li><a href="https://wa.me/6287844643452" target="_blank"><i class="fab fa-whatsapp"></i> Tanya Admin</a></li>
                    <li><a href="#">Cara Pembelian</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            Â© 2025 XiamoStore. Sudah terdaftar sebagai penyedia media elektronik di Komdigi.
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Data Layanan (Sama seperti sebelumnya)
            const allServicesData = { "Instagram": [{ name: "Followers Instagram (Global)", price: 25000, desc: "Menambah follower aktif global ke akun Instagram Anda. Proses cepat dan aman.", min: 100, max: 10000, unit: "Followers", isFavorite: false }, { name: "Likes Instagram (Indonesia)", price: 15000, desc: "Meningkatkan jumlah likes pada postingan Instagram Anda dari pengguna Indonesia.", min: 50, max: 5000, unit: "Likes", isFavorite: true }, { name: "Komentar Instagram", price: 20000, desc: "Tambahkan komentar positif pada postingan Instagram Anda.", min: 10, max: 500, unit: "Komentar", isFavorite: false }], "TikTok": [{ name: "Followers TikTok", price: 20000, desc: "Menambah follower aktif ke akun TikTok Anda. Tingkatkan popularitas!", min: 50, max: 8000, unit: "Followers", isFavorite: false }, { name: "Likes TikTok", price: 15000, desc: "Dapatkan lebih banyak like untuk video TikTok Anda.", min: 100, max: 10000, unit: "Likes", isFavorite: false }, { name: "Views TikTok", price: 10000, desc: "Tingkatkan jumlah penonton video TikTok Anda dengan cepat.", min: 500, max: 50000, unit: "Views", isFavorite: false }], "YouTube": [{ name: "Views YouTube", price: 18000, desc: "Tingkatkan jumlah penonton video YouTube Anda dengan cepat.", min: 1000, max: 100000, unit: "Views", isFavorite: false }, { name: "Subscribers YouTube", price: 50000, desc: "Dapatkan subscriber baru untuk channel YouTube Anda.", min: 100, max: 5000, unit: "Subscribers", isFavorite: false }, { name: "Jam Tayang YouTube", price: 60000, desc: "Capai persyaratan monetisasi dengan cepat.", min: 100, max: 4000, unit: "Jam", isFavorite: false }], "Facebook": [{ name: "Likes Facebook", price: 12000, desc: "Tingkatkan jumlah like pada postingan Facebook Anda.", min: 100, max: 10000, unit: "Likes", isFavorite: false }, { name: "Views Facebook", price: 15000, desc: "Dapatkan lebih banyak penonton untuk video Facebook Anda.", min: 500, max: 50000, unit: "Views", isFavorite: false }], "Twitter": [{ name: "Retweets Twitter", price: 14000, desc: "Menambah jumlah retweet untuk tweet Anda. Tingkatkan engagement!", min: 50, max: 2000, unit: "Retweets", isFavorite: false }, { name: "Followers Twitter", price: 22000, desc: "Tingkatkan jumlah pengikut di akun Twitter Anda.", min: 100, max: 5000, unit: "Followers", isFavorite: false }], "Telegram": [{ name: "Member Telegram", price: 30000, desc: "Tambahkan anggota ke grup atau channel Telegram Anda.", min: 50, max: 10000, unit: "Member", isFavorite: false }], "WhatsApp": [{ name: "Member Grup WhatsApp", price: 35000, desc: "Tambahkan anggota aktif ke grup WhatsApp Anda.", min: 20, max: 500, unit: "Member", isFavorite: false }], "Marketplace": [{ name: "Ulasan Toko Online", price: 25000, desc: "Tingkatkan reputasi toko online Anda dengan ulasan positif.", min: 5, max: 100, unit: "Ulasan", isFavorite: false }], "Discord": [{ name: "Member Discord", price: 28000, desc: "Tambahkan anggota ke server Discord Anda.", min: 20, max: 1000, unit: "Member", isFavorite: false }], "Twitch": [{ name: "Followers Twitch", price: 20000, desc: "Dapatkan follower baru untuk channel Twitch Anda.", min: 50, max: 2000, unit: "Followers", isFavorite: false }], "Pinterest": [{ name: "Followers Pinterest", price: 18000, desc: "Tingkatkan jumlah pengikut di akun Pinterest Anda.", min: 50, max: 2000, unit: "Followers", isFavorite: false }], "Snack Video": [{ name: "Followers Snack Video", price: 16000, desc: "Menambah follower untuk akun Snack Video Anda.", min: 50, max: 5000, unit: "Followers", isFavorite: false }, { name: "Likes Snack Video", price: 8000, desc: "Dapatkan lebih banyak like untuk video Snack Video Anda.", min: 100, max: 10000, unit: "Likes", isFavorite: false }], "TripAdvisor": [{ name: "Ulasan TripAdvisor", price: 40000, desc: "Tingkatkan rating bisnis Anda di TripAdvisor dengan ulasan asli.", min: 1, max: 20, unit: "Ulasan", isFavorite: false }]};

            // Elemen Form & Display
            const categoryButtons = document.querySelectorAll('.category-buttons .cat-btn');
            const categorySelect = document.getElementById('categorySelect');
            const serviceSelect = document.getElementById('serviceSelect');
            const orderTargetInput = document.getElementById('orderTarget');
            const orderQuantityInput = document.getElementById('orderQuantity');
            const favoriteServiceCheckbox = document.getElementById('favoriteServiceCheckbox');
            const orderForm = document.getElementById('orderForm');
            const serviceDetailsDisplay = document.getElementById('serviceDetailsDisplay');
            const serviceDescriptionDisplay = document.getElementById('serviceDescription');
            const minQuantityDisplay = document.getElementById('minQuantity');
            const maxQuantityDisplay = document.getElementById('maxQuantity');
            const servicePriceDisplay = document.getElementById('servicePriceDisplay');
            const quantityUnitDisplay = document.getElementById('quantityUnit');

            function formatRupiah(number) { return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(number); }

            function populateCategorySelect() {
                categorySelect.innerHTML = '<option value="">Pilih Kategori...</option>';
                for (const category in allServicesData) {
                    const option = document.createElement('option');
                    option.value = category; option.textContent = category;
                    categorySelect.appendChild(option);
                }
            }

            function updateServiceSelect() {
                const selectedCategory = categorySelect.value;
                const showFavorites = favoriteServiceCheckbox.checked;
                serviceSelect.innerHTML = '<option value="">Pilih Layanan...</option>';
                serviceDetailsDisplay.style.display = 'none';

                if (selectedCategory && allServicesData[selectedCategory]) {
                    let services = allServicesData[selectedCategory];
                    if (showFavorites) { services = services.filter(service => service.isFavorite); }
                    services.forEach((service, index) => {
                        const option = document.createElement('option');
                        option.value = index; option.textContent = service.name;
                        serviceSelect.appendChild(option);
                    });
                }
            }

            function displayServiceDetails() {
                const selectedCategory = categorySelect.value;
                const selectedServiceIndex = serviceSelect.value;
                if (selectedCategory && selectedServiceIndex !== "" && allServicesData[selectedCategory]) {
                    const service = allServicesData[selectedCategory][selectedServiceIndex];
                    serviceDescriptionDisplay.textContent = service.desc;
                    minQuantityDisplay.textContent = new Intl.NumberFormat('id-ID').format(service.min);
                    maxQuantityDisplay.textContent = new Intl.NumberFormat('id-ID').format(service.max);
                    servicePriceDisplay.textContent = formatRupiah(service.price);
                    quantityUnitDisplay.textContent = service.unit;
                    orderQuantityInput.min = service.min;
                    orderQuantityInput.max = service.max;
                    orderQuantityInput.value = service.min;
                    serviceDetailsDisplay.style.display = 'flex';
                } else {
                    serviceDetailsDisplay.style.display = 'none';
                }
            }

            // --- Event Listeners ---
            categorySelect.addEventListener('change', () => {
                // Sync button active state with dropdown
                const categoryName = categorySelect.value || "Semua";
                categoryButtons.forEach(btn => {
                    btn.classList.toggle('active-category', btn.dataset.category === categoryName);
                });
                updateServiceSelect();
            });

            serviceSelect.addEventListener('change', displayServiceDetails);
            favoriteServiceCheckbox.addEventListener('change', () => {
                updateServiceSelect();
                displayServiceDetails();
            });

            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    categoryButtons.forEach(btn => btn.classList.remove('active-category'));
                    button.classList.add('active-category');
                    const categoryName = button.dataset.category;
                    categorySelect.value = (categoryName === "Semua") ? "" : categoryName;
                    updateServiceSelect();
                });
            });

            orderForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const selectedCategory = categorySelect.value;
                const selectedServiceIndex = serviceSelect.value;
                const target = orderTargetInput.value.trim();
                const quantity = parseInt(orderQuantityInput.value);

                if (!selectedCategory || selectedServiceIndex === "") { alert("Mohon pilih Kategori dan Layanan."); return; }
                if (!target) { alert("Mohon masukkan Target pesanan."); orderTargetInput.focus(); return; }
                if (isNaN(quantity) || quantity < 1) { alert("Jumlah pesanan tidak valid."); return; }

                const service = allServicesData[selectedCategory][selectedServiceIndex];
                if (quantity < service.min || quantity > service.max) {
                    alert(`Jumlah pesanan harus antara ${service.min} dan ${service.max}.`);
                    orderQuantityInput.value = service.min; return;
                }

                const orderData = [{ name: `${service.name} (${target})`, price: service.price, quantity: quantity }];
                localStorage.setItem('xiamoStoreCart', JSON.stringify(orderData));
                
                // Mengarahkan ke halaman pembayaran.html
                window.location.href = 'pembayaran.html'; 
            });

            // Initial Load
            populateCategorySelect();
            document.querySelector('.cat-btn[data-category="Semua"]').click();
        });
    </script>
</body>
</html>